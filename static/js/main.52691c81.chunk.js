(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){},23:function(e,t,a){e.exports=a(43)},31:function(e,t,a){},34:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(21),l=a.n(c),i=(a(31),a(5)),u=a(3);a(18),a(20);var m=function(e){var t=e.isUpdateForm,a=e.onAdd,c=e.onCancel,l=Object(n.useState)(""),i=Object(u.a)(l,2),m=i[0],o=i[1],s=Object(n.useState)(""),d=Object(u.a)(s,2),p=d[0],f=d[1],b=Object(n.useState)(""),E=Object(u.a)(b,2),v=E[0],y=E[1],N=""!==m&&""!==p&&""!==v;return r.a.createElement("form",{className:"material-form",onSubmit:function(e){e.preventDefault(),a({name:m,quantity:p,price:v})}},r.a.createElement("h3",{className:"form-title"},t?"Update Material":"Add Material"),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",id:"name",value:m,onChange:function(e){o(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"quantity"},"Quantity:"),r.a.createElement("input",{type:"number",id:"quantity",value:p,onChange:function(e){f(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"price"},"Price:"),r.a.createElement("input",{type:"number",id:"price",value:v,onChange:function(e){y(e.target.value)},required:!0})),r.a.createElement("div",{className:"form-buttons"},r.a.createElement("button",{className:"form-button form-submit",type:"submit",disabled:!N},t?"Update":"Add"),r.a.createElement("button",{className:"form-button form-cancel",type:"button",onClick:c},"Cancel")))},o=a(6),s=function(e){var t=e.material,a=e.onDelete,c=e.handleEdit,l=Object(n.useState)(!1),i=Object(u.a)(l,2),m=i[0],o=i[1];return r.a.createElement("div",{className:"material-actions-container"},r.a.createElement("button",{className:"material-actions-toggle",onClick:function(){o(!m)}},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),m&&r.a.createElement("div",{className:"material-actions-menu"},r.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){return a(t)}},r.a.createElement("i",{className:"fas fa-trash"})),r.a.createElement("button",{className:"btn btn-sm btn-info",onClick:function(){return c(t)}},r.a.createElement("i",{className:"fas fa-pen"}))))};var d=function(e){var t=e.materials,a=e.onDelete,c=e.onUpdate,l=e.onAdd,i=Object(n.useState)(null),d=Object(u.a)(i,2),p=d[0],f=d[1],b=Object(n.useState)(0),E=Object(u.a)(b,2),v=E[0],y=E[1],N=function(e){f(e)},O=function(){f(null),y(v+1)},j=function(e,a){var n=t.map(function(t){return t.name===e.name?a:t});c(n),f(null),y(v+1)},g=function(e){return e.quantity*e.price};return r.a.createElement("div",null,r.a.createElement("div",{className:"materials-container"},r.a.createElement("div",null,t.length),t.map(function(e){return r.a.createElement("div",{className:"material-container",key:e.name},r.a.createElement("div",{className:"material-name"},e.name),r.a.createElement("div",{className:"material-quantity"},r.a.createElement("strong",null,"Qty:")," ",e.quantity),r.a.createElement("div",{className:"material-price"},r.a.createElement("strong",null,"Price:")," ",e.price),r.a.createElement("div",{className:"material-ptu"},r.a.createElement("strong",null,"PTU:")," ",g(e)),r.a.createElement(s,{onDelete:a,onEdit:N,material:e}))}),p&&r.a.createElement("div",{className:"material-container"},r.a.createElement("div",{className:"material-name"},p.name),r.a.createElement("div",{className:"material-quantity"},r.a.createElement("strong",null,"Qty:")," ",r.a.createElement("input",{type:"number",value:p.quantity,onChange:function(e){var t=Number(e.target.value),a=Object(o.a)({},p,{quantity:t});f(a)}})),r.a.createElement("div",{className:"material-price"},r.a.createElement("strong",null,"Price:")," ",r.a.createElement("input",{type:"number",value:p.price,onChange:function(e){var t=Number(e.target.value),a=Object(o.a)({},p,{price:t});f(a)}})),r.a.createElement("div",{className:"material-ptu"},r.a.createElement("strong",null,"PTU:")," ",g(p)),r.a.createElement("div",{className:"material-actions"},r.a.createElement("button",{className:"btn btn-info",onClick:function(){return j(p,p)}},"Save"),r.a.createElement("button",{className:"btn btn-secondary",onClick:O},"Cancel")))),r.a.createElement(m,{key:v,onAdd:function(e){l(e),f(null),y(v+1)},onUpdate:j,materialToUpdate:p,onCancel:O,isUpdateForm:!!p}))},p=a(4);var f=function(e){var t=e.materials,a=e.onAdd,c=(e.onUpdate,e.productToUpdate),l=(e.onCancel,e.isUpdateForm),i=Object(n.useState)(""),m=Object(u.a)(i,2),s=m[0],d=m[1],f=Object(n.useState)([]),b=Object(u.a)(f,2),E=(b[0],b[1],Object(n.useState)("")),v=Object(u.a)(E,2),y=v[0],N=v[1],O=Object(n.useState)([]),j=Object(u.a)(O,2),g=j[0],h=j[1],q=Object(n.useState)({}),S=Object(u.a)(q,2),C=S[0],k=S[1],F=Object(n.useState)({}),Q=Object(u.a)(F,2),U=(Q[0],Q[1]),P=Object(n.useState)({}),A=Object(u.a)(P,2),w=A[0],x=A[1];return Object(n.useEffect)(function(){c&&(d(c.name),N(c.quantity))},[c]),Object(n.useEffect)(function(){x({})},[g,C]),r.a.createElement("form",{className:"add-product-form",onSubmit:function(e){if(e.preventDefault(),function(){var e={};""===s.trim()&&(e.productName="Product name is required"),""===y?e.productQuantity="Quantity is required":isNaN(y)?e.productQuantity="Quantity must be a number":Number(y)<=0&&(e.productQuantity="Quantity must be greater than 0"),0===g.length&&(e.materials="At least one material must be selected");var t={};return g.forEach(function(e){""===C[e]?t[e]="Quantity is required":isNaN(C[e])?t[e]="Quantity must be a number":Number(C[e])<=0&&(t[e]="Quantity must be greater than 0")}),Object.keys(t).length>0&&(e.materials=t),x(e),0===Object.keys(e).length}()){var n=g.map(function(e){var a=t.find(function(t){return t.name===e});return Object(o.a)({},a,{quantity:Number(C[e])})}),r=(n.reduce(function(e,t){return e+t.quantity*t.price},0)/Number(y)).toFixed(2),c={name:s,quantity:Number(y),materials:n,price:r};a(c),d(""),N(""),h([]),k({})}}},r.a.createElement("h3",null,l?"Update Product":"Add Product"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"productName"},"Product Name:"),r.a.createElement("input",{type:"text",id:"productName",value:s,onChange:function(e){d(e.target.value)}}),w.productName&&r.a.createElement("p",{className:"error-message"},w.productName)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"productQuantity"},"Quantity:"),r.a.createElement("input",{type:"text",id:"productQuantity",value:y,onChange:function(e){var t=Number(e.target.value);N(t)}}),w.productQuantity&&r.a.createElement("p",{className:"error-message"},w.productQuantity)),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"materials"},"Materials:"),r.a.createElement("select",{className:"form-control",id:"materials",multiple:!0,value:g,onChange:function(e){for(var a=e.target.options,n=[],r=Object(o.a)({},C),c=function(){var e=a[l];if(e.selected){var c=e.value;n.push(c),r[c]||(r[c]=t.find(function(e){return e.name===c}).defaultQuantity)}else{var i=e.value,u=n.indexOf(i);u>-1&&(n.splice(u,1),delete r[i])}},l=0;l<a.length;l++)c();h(n),k(r),U({})}},t.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)})),w.materials&&"string"===typeof w.materials&&r.a.createElement("p",{className:"error-message"},w.materials),w.materials&&"object"===typeof w.materials&&r.a.createElement("ul",null,g.map(function(e){return r.a.createElement("li",{className:"error-message",key:e},e,": ",w.materials[e])}))),g.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement("label",{htmlFor:"quantity-".concat(e)},e," Quantity:"),r.a.createElement("input",{type:"text",id:"quantity-".concat(e),value:C[e]||"",onChange:function(t){return function(e,t){var a=e.target.value;k(function(e){return Object(o.a)({},e,Object(p.a)({},t,a))})}(t,e)}}),w.materials&&w.materials[e]&&r.a.createElement("p",{className:"error-message"},w.materials[e]))}),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",type:"submit"},r.a.createElement("i",{className:"fas fa-plus"}))))};var b=a(46);a(34);var E=function(e){var t=e.products,a=e.onDelete,c=e.onUpdate,l=e.materials,m=Object(n.useState)(null),o=Object(u.a)(m,2),s=o[0],d=o[1],p=Object(n.useState)(t),E=Object(u.a)(p,2),v=E[0],y=E[1],N=Object(n.useState)(l),O=Object(u.a)(N,2),j=O[0],g=(O[1],Object(n.useState)(!1)),h=Object(u.a)(g,2),q=h[0],S=h[1],C=function(){d(null)},k=function(e,t){var a=v.map(function(a){return a===e?t:a});console.log(e,"pl"),c(a),d(null),y(a)},F=function(e,t){var a={id:v.length+1,name:e.name,materials:e.materials,quantity:e.quantity,price:e.price};y(function(e){return[].concat(Object(i.a)(e),[a])})};return r.a.createElement("div",{className:"product-list"},s?r.a.createElement(f,{product:s,onCancel:C,onUpdate:k,onAdd:F,materials:j}):r.a.createElement("div",null,r.a.createElement("h3",null,"Products"),r.a.createElement("div",{className:"product-list"},v.map(function(e,t){return r.a.createElement("div",{className:"product-card",key:"".concat(e.name,"-").concat(t)},r.a.createElement("div",{className:"product-header"},r.a.createElement("div",{className:"product-name"},e.name),r.a.createElement("div",{className:"product-cost"},"$",function(e){var t=0;return e.materials.forEach(function(a){t+=a.price*(a.quantity/e.quantity)}),t.toFixed(2)}(e))),r.a.createElement("div",{className:"product-body"},r.a.createElement("div",{className:"product-materials"},r.a.createElement("div",{className:"materials-header"},r.a.createElement("div",null,"Materials:"),r.a.createElement(b.a,{variant:"outline-secondary",size:"sm",onClick:function(){return S(!q)}},q?"Hide":"Show")),q&&function(e){if(!e||"object"!==typeof e)return"";var t=Object.values(e).map(function(e){return r.a.createElement("div",{className:"material-item",key:e.name},r.a.createElement("div",{className:"material-name"},e.name),r.a.createElement("div",{className:"material-quantity"},e.quantity))});return 0===t.length?"":r.a.createElement("div",{className:"material-list"},t)}(e.materials)),r.a.createElement("div",{className:"product-buttons"},r.a.createElement(b.a,{variant:"outline-primary",onClick:function(){return function(e){d(e),console.log("handleEdit",e)}(e)}},"Edit"),r.a.createElement(b.a,{variant:"outline-danger",onClick:function(){return function(e){var t=v.filter(function(t){return t!==e});a(t),y(t)}(e)}},"Delete"))))})),r.a.createElement(f,{onCancel:C,onUpdate:k,onAdd:F,materials:j})))};var v=function(e){var t=e.materials,a=e.products;return Object(n.useEffect)(function(){localStorage.setItem("materials",JSON.stringify(t))},[t]),Object(n.useEffect)(function(){localStorage.setItem("products",JSON.stringify(a))},[a]),null},y=a(0),N=a(11),O=[{name:"Water",quantity:100,price:5,id:1},{name:"Sugar",quantity:500,price:20,id:2},{name:"Lemon Juice",quantity:250,price:15,id:3}],j=[{name:"Lemonade",id:0,materials:[{name:"Water",quantity:100,price:300},{name:"Sugar",quantity:50,price:20},{name:"Lemon Juice",quantity:25,price:15}],quantity:10,price:0,mcu:0},{name:"Ice Tea",id:1,materials:[{name:"Water",quantity:100,price:50},{name:"Tea Leaves",quantity:50,price:30},{name:"Sugar",quantity:25,price:20}],quantity:20,price:0,mcu:0}];j.forEach(function(e){var t=0,a={};e.materials.forEach(function(n){var r=n.quantity*n.price;t+=r;var c=n.price*n.quantity/e.quantity;a[n.name]=c}),e.price=t,e.mcu=a});a(37);var g=function(e){var t=e.products,a=Object(n.useState)(t),c=Object(u.a)(a,2),l=(c[0],c[1]),m=Object(n.useState)(null),s=Object(u.a)(m,2),d=s[0],p=s[1],f=Object(n.useState)(0),b=Object(u.a)(f,2),E=b[0],v=b[1],y=Object(n.useState)(1),N=Object(u.a)(y,2),O=N[0],j=N[1],g=function(){return d?d.price-E:0};return r.a.createElement("div",{className:"market"},r.a.createElement("div",{className:"product-select"},r.a.createElement("label",{htmlFor:"product-select"},"Select a product:"),r.a.createElement("select",{id:"product-select",onChange:function(e){var a=e.target.value,n=t.find(function(e){return e.name===a});p(n)}},r.a.createElement("option",{value:""},"Select a product"),t.map(function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))),d&&r.a.createElement("div",{className:"product-details"},r.a.createElement("div",{className:"product-info"},r.a.createElement("h2",null,d.name),r.a.createElement("p",null,"Available Quantity: ",d.quantity)),r.a.createElement("div",{className:"sell-details"},r.a.createElement("div",{className:"sell-price"},r.a.createElement("label",{htmlFor:"sell-price"},"Sell Price:"),r.a.createElement("input",{id:"sell-price",type:"number",value:E,onChange:function(e){var t=Number(e.target.value);v(t)}})),r.a.createElement("div",{className:"quantity-to-sell"},r.a.createElement("label",{htmlFor:"quantity-to-sell"},"Quantity:"),r.a.createElement("input",{id:"quantity-to-sell",type:"number",min:"1",max:d.quantity,value:O,onChange:function(e){var t=Number(e.target.value);t>d.quantity?j(d.quantity):j(t)}}))),r.a.createElement("button",{className:"sell-button",onClick:function(){if(d){var e=Object(o.a)({},d,{price:g(),quantity:d.quantity-O}),a=t.findIndex(function(e){return e.id===d.id}),n=[].concat(Object(i.a)(t.slice(0,a)),[e],Object(i.a)(t.slice(a+1)));l(n),p(null),v(0),j(1)}}},"Sell"),r.a.createElement("p",{className:"product-price"},"Product price: ",g()," p&p")))};var h=function(){var e=Object(n.useState)(function(){var e=localStorage.getItem("materials");return e?JSON.parse(e):O}),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(function(){var e=localStorage.getItem("products");return e?JSON.parse(e):j}),m=Object(u.a)(l,2),o=m[0],s=m[1],p=Object(n.useState)(!1),f=Object(u.a)(p,2),b=f[0],h=(f[1],Object(n.useState)(!1)),q=Object(u.a)(h,2),S=q[0],C=(q[1],Object(n.useState)(!1)),k=Object(u.a)(C,2),F=k[0],Q=(k[1],function(e,t){var a=o.map(function(a){return a===e?t:a});s(a)}),U=Object(y.m)();return r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"date-time"},r.a.createElement("iframe",{src:"https://www.now-time.com/widgetclock/justnumber.php?id=9491&size=33&color=1833AB&format=2&thedatein=5&backcolor=F2F2F2",frameBorder:"0"})),r.a.createElement(v,{materials:a,products:o}),r.a.createElement("div",{className:"menu-container"},r.a.createElement(N.b,{to:"materials",className:"menu-item ".concat(b?"active":"")},r.a.createElement("i",{className:"fas fa-box-open"}),r.a.createElement("span",null,"Materials")),r.a.createElement(N.b,{to:"products",className:"menu-item ".concat(S?"active":"")},r.a.createElement("i",{className:"fas fa-box"}),r.a.createElement("span",null,"Products")),r.a.createElement(N.b,{to:"sell",className:"menu-item ".concat(F?"active":"")},r.a.createElement("i",{class:"fa-solid fa-basket-shopping"}),r.a.createElement("span",null,"Market")),r.a.createElement("button",{className:"back-btn",onClick:function(){return U(-1)}},r.a.createElement("i",{className:"fas fa-arrow-left"})," Back")," "),r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"materials",element:r.a.createElement(d,{materials:a,onDelete:function(e){c(a.filter(function(t){return t!==e}))},onUpdate:function(e){c(e)},onAdd:function(e){c([].concat(Object(i.a)(a),[e]))}})}),r.a.createElement(y.a,{path:"products",element:r.a.createElement(E,{products:o,onDelete:function(e){s(o.filter(function(t){return t!==e}))},onUpdate:Q,onAdd:function(e){s([].concat(Object(i.a)(o),[e]))},materials:a})}),r.a.createElement(y.a,{path:"sell",element:r.a.createElement(g,{products:o,onUpdate:Q,materials:a})})))},q=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,45)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})};a(39),a(41);l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N.a,null,r.a.createElement(h,null)))),q()}},[[23,3,2]]]);
//# sourceMappingURL=main.52691c81.chunk.js.map