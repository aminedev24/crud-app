(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){},23:function(e,t,a){e.exports=a(49)},31:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(21),l=a.n(r),i=(a(31),a(5)),m=a(3);a(18),a(20);var u=function(e){var t=e.isUpdateForm,a=e.onAdd,r=e.onCancel,l=Object(n.useState)(""),i=Object(m.a)(l,2),u=i[0],o=i[1],s=Object(n.useState)(""),d=Object(m.a)(s,2),p=d[0],f=d[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),v=E[0],N=E[1],y=""!==u&&""!==p&&""!==v;return c.a.createElement("form",{className:"material-form",onSubmit:function(e){e.preventDefault(),a({name:u,quantity:p,price:v})}},c.a.createElement("h3",{className:"form-title"},t?"Update Material":"Add Material"),c.a.createElement("div",{className:"form-input"},c.a.createElement("label",{htmlFor:"name"},"Name:"),c.a.createElement("input",{type:"text",id:"name",value:u,onChange:function(e){o(e.target.value)},required:!0})),c.a.createElement("div",{className:"form-input"},c.a.createElement("label",{htmlFor:"quantity"},"Quantity:"),c.a.createElement("input",{type:"number",id:"quantity",value:p,onChange:function(e){f(e.target.value)},required:!0})),c.a.createElement("div",{className:"form-input"},c.a.createElement("label",{htmlFor:"price"},"Price:"),c.a.createElement("input",{type:"number",id:"price",value:v,onChange:function(e){N(e.target.value)},required:!0})),c.a.createElement("div",{className:"form-buttons"},c.a.createElement("button",{className:"form-button form-submit",type:"submit",disabled:!y},t?"Update":"Add"),c.a.createElement("button",{className:"form-button form-cancel",type:"button",onClick:r},"Cancel")))};var o=function(e){var t=e.materials,a=e.onDelete,r=e.onUpdate,l=e.onAdd,i=Object(n.useState)(null),o=Object(m.a)(i,2),s=o[0],d=o[1],p=Object(n.useState)(0),f=Object(m.a)(p,2),b=f[0],E=f[1];return c.a.createElement("div",null,c.a.createElement("div",{className:"materials-container"},c.a.createElement("div",{className:"materials-header"},c.a.createElement("div",null,t.length," materials"),c.a.createElement("div",{className:"material-actions"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return d(null)}},"Add Material"))),c.a.createElement("div",{className:"materials-list"},t.map(function(e){return c.a.createElement("div",{className:"material-card",key:e.name},c.a.createElement("div",{className:"material-name"},e.name),c.a.createElement("div",{className:"material-details"},c.a.createElement("div",{className:"material-quantity"},c.a.createElement("strong",null,"Qty:")," ",e.quantity),c.a.createElement("div",{className:"material-price"},c.a.createElement("strong",null,"Price:")," ",e.price),c.a.createElement("div",{className:"material-ptu"},c.a.createElement("strong",null,"PTU:")," ",function(e){return e.quantity*e.price}(e))),c.a.createElement("div",{className:"material-actions"},c.a.createElement("button",{className:"btn btn-info",onClick:function(){return d(e)}},"Edit"),c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a(e)}},"Delete")))}))),c.a.createElement(u,{key:b,onAdd:function(e){l(e),d(null),E(b+1)},onUpdate:function(e,a){var n=t.map(function(t){return t.name===e.name?a:t});r(n),d(null),E(b+1)},materialToUpdate:s,onCancel:function(){d(null),E(b+1)},isUpdateForm:!!s}))},s=a(4),d=a(6);var p=function(e){var t=e.materials,a=e.onAdd,r=(e.onUpdate,e.productToUpdate),l=(e.onCancel,e.isUpdateForm),i=Object(n.useState)(""),u=Object(m.a)(i,2),o=u[0],p=u[1],f=Object(n.useState)([]),b=Object(m.a)(f,2),E=(b[0],b[1],Object(n.useState)("")),v=Object(m.a)(E,2),N=v[0],y=v[1],O=Object(n.useState)([]),j=Object(m.a)(O,2),g=j[0],h=j[1],q=Object(n.useState)({}),S=Object(m.a)(q,2),C=S[0],k=S[1],F=Object(n.useState)({}),Q=Object(m.a)(F,2),U=(Q[0],Q[1]),w=Object(n.useState)({}),A=Object(m.a)(w,2),P=A[0],x=A[1];return Object(n.useEffect)(function(){r&&(p(r.name),y(r.quantity))},[r]),Object(n.useEffect)(function(){x({})},[g,C]),c.a.createElement("form",{className:"add-product-form",onSubmit:function(e){if(e.preventDefault(),function(){var e={};""===o.trim()&&(e.productName="Product name is required"),""===N?e.productQuantity="Quantity is required":isNaN(N)?e.productQuantity="Quantity must be a number":Number(N)<=0&&(e.productQuantity="Quantity must be greater than 0"),0===g.length&&(e.materials="At least one material must be selected");var t={};return g.forEach(function(e){""===C[e]?t[e]="Quantity is required":isNaN(C[e])?t[e]="Quantity must be a number":Number(C[e])<=0&&(t[e]="Quantity must be greater than 0")}),Object.keys(t).length>0&&(e.materials=t),x(e),0===Object.keys(e).length}()){var n=g.map(function(e){var a=t.find(function(t){return t.name===e});return Object(d.a)({},a,{quantity:Number(C[e])})}),c=(n.reduce(function(e,t){return e+t.quantity*t.price},0)/Number(N)).toFixed(2),r={name:o,quantity:Number(N),materials:n,price:c};a(r),p(""),y(""),h([]),k({})}}},c.a.createElement("h3",null,l?"Update Product":"Add Product"),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"productName"},"Product Name:"),c.a.createElement("input",{type:"text",id:"productName",value:o,onChange:function(e){p(e.target.value)}}),P.productName&&c.a.createElement("p",{className:"error-message"},P.productName)),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"productQuantity"},"Quantity:"),c.a.createElement("input",{type:"text",id:"productQuantity",value:N,onChange:function(e){var t=Number(e.target.value);y(t)}}),P.productQuantity&&c.a.createElement("p",{className:"error-message"},P.productQuantity)),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"materials"},"Materials:"),c.a.createElement("select",{className:"form-control",id:"materials",multiple:!0,value:g,onChange:function(e){for(var a=e.target.options,n=[],c=Object(d.a)({},C),r=function(){var e=a[l];if(e.selected){var r=e.value;n.push(r),c[r]||(c[r]=t.find(function(e){return e.name===r}).defaultQuantity)}else{var i=e.value,m=n.indexOf(i);m>-1&&(n.splice(m,1),delete c[i])}},l=0;l<a.length;l++)r();h(n),k(c),U({})}},t.map(function(e){return c.a.createElement("option",{key:e.name,value:e.name},e.name)})),P.materials&&"string"===typeof P.materials&&c.a.createElement("p",{className:"error-message"},P.materials),P.materials&&"object"===typeof P.materials&&c.a.createElement("ul",null,g.map(function(e){return c.a.createElement("li",{className:"error-message",key:e},e,": ",P.materials[e])}))),g.map(function(e){return c.a.createElement("div",{key:e},c.a.createElement("label",{htmlFor:"quantity-".concat(e)},e," Quantity:"),c.a.createElement("input",{type:"text",id:"quantity-".concat(e),value:C[e]||"",onChange:function(t){return function(e,t){var a=e.target.value;k(function(e){return Object(d.a)({},e,Object(s.a)({},t,a))})}(t,e)}}),P.materials&&P.materials[e]&&c.a.createElement("p",{className:"error-message"},P.materials[e]))}),c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-primary",type:"submit"},c.a.createElement("i",{className:"fas fa-plus"}))))};a(34),a(36);var f=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(""),u=Object(m.a)(i,2),o=u[0],s=u[1],d=Object(n.useState)(null),p=Object(m.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)(!1),v=Object(m.a)(E,2),N=v[0],y=v[1],O=function(e,t){var a={};return e.materials.forEach(function(e){a[e.name]=e.quantity*t}),a};return c.a.createElement("div",{className:"mqc-c form-group"},c.a.createElement("form",{className:"mqc",onSubmit:function(t){if(t.preventDefault(),r&&o){var a=e.products.find(function(e){return e.name===r});if(a){var n=O(a,o);b(n),y(!0)}}}},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"product-select"},"Select a product:"),c.a.createElement("select",{className:"form-control",id:"product-select",value:r,onChange:function(e){l(e.target.value)}},c.a.createElement("option",{value:""},"-- Select a product -- "),e.products.map(function(e){return c.a.createElement("option",{key:e.name,value:e.name},e.name)}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"quantity-input"},"Desired quantity:"),c.a.createElement("input",{type:"number",className:"form-control",id:"quantity-input",value:o,onChange:function(e){s(e.target.value)}})),c.a.createElement("button",{type:"submit",className:"btn btn-primary"},c.a.createElement("i",{className:"fas fa-calculator"}))),N&&function(e,t,a){var n=e?"show":"";return c.a.createElement("div",{className:"modal ".concat(n),onClick:t},c.a.createElement("div",{className:"modal-dialog"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h2",null,"Required Materials for: ",c.a.createElement("span",{className:"selected-product"},a)," "),c.a.createElement("button",{type:"button",className:"close",onClick:t},c.a.createElement("span",null,"\xd7"))),c.a.createElement("div",{className:"modal-body"},Object.entries(e).map(function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return c.a.createElement("div",{key:a},a,": ",n)})),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{className:"btn btn-primary"},c.a.createElement("i",{className:"fas fa-print",onClick:function(){return window.print()}}))))))}(f,function(){y(!1),b(null)},r))},b=a(52);a(38);var E=function(e){var t=e.products,a=e.onDelete,r=e.onUpdate,l=e.materials,u=Object(n.useState)(null),o=Object(m.a)(u,2),s=o[0],d=o[1],f=Object(n.useState)(t),E=Object(m.a)(f,2),v=E[0],N=E[1],y=Object(n.useState)(l),O=Object(m.a)(y,2),j=O[0],g=(O[1],Object(n.useState)(!1)),h=Object(m.a)(g,2),q=h[0],S=h[1],C=function(){d(null)},k=function(e,t){var a=v.map(function(a){return a===e?t:a});console.log(e,"pl"),r(a),d(null),N(a)},F=function(e,t){var a={id:v.length+1,name:e.name,materials:e.materials,quantity:e.quantity,price:e.price};N(function(e){return[].concat(Object(i.a)(e),[a])})};return c.a.createElement("div",{className:"product-list"},s?c.a.createElement(p,{product:s,onCancel:C,onUpdate:k,onAdd:F,materials:j}):c.a.createElement("div",null,c.a.createElement("h3",null,"Products"),c.a.createElement("div",{className:"product-list"},v.map(function(e,t){return c.a.createElement("div",{className:"product-card",key:"".concat(e.name,"-").concat(t)},c.a.createElement("div",{className:"product-header"},c.a.createElement("div",{className:"product-name"},e.name),c.a.createElement("div",{className:"product-qty"},e.quantity),c.a.createElement("div",{className:"product-cost"},"$",function(e){var t=0;return e.materials.forEach(function(a){t+=a.price*(a.quantity/e.quantity)}),t.toFixed(2)}(e))),c.a.createElement("div",{className:"product-body"},c.a.createElement("div",{className:"product-materials"},c.a.createElement("div",{className:"materials-header"},c.a.createElement("div",null,"Materials:"),c.a.createElement(b.a,{variant:"outline-secondary",size:"sm",onClick:function(){return S(!q)}},q?"Hide":"Show")),q&&function(e){if(!e||"object"!==typeof e)return"";var t=Object.values(e).map(function(e){return c.a.createElement("div",{className:"material-item",key:e.name},c.a.createElement("div",{className:"material-name"},e.name),c.a.createElement("div",{className:"material-quantity"},e.quantity))});return 0===t.length?"":c.a.createElement("div",{className:"material-list"},t)}(e.materials)),c.a.createElement("div",{className:"product-buttons"},c.a.createElement(b.a,{variant:"outline-primary",onClick:function(){return function(e){d(e),console.log("handleEdit",e)}(e)}},"Edit"),c.a.createElement(b.a,{variant:"outline-danger",onClick:function(){return function(e){var t=v.filter(function(t){return t!==e});a(t),N(t)}(e)}},"Delete"))))})),c.a.createElement(p,{onCancel:C,onUpdate:k,onAdd:F,materials:j})))};var v=function(e){var t=e.materials,a=e.products;return Object(n.useEffect)(function(){localStorage.setItem("materials",JSON.stringify(t))},[t]),Object(n.useEffect)(function(){localStorage.setItem("products",JSON.stringify(a))},[a]),null},N=a(0),y=a(7),O=[{name:"Water",quantity:100,price:5,id:1},{name:"Sugar",quantity:500,price:20,id:2},{name:"Lemon Juice",quantity:250,price:15,id:3}],j=[{name:"Lemonade",id:0,materials:[{name:"Water",quantity:100,price:300},{name:"Sugar",quantity:50,price:20},{name:"Lemon Juice",quantity:25,price:15}],quantity:10,price:0,mcu:0},{name:"Ice Tea",id:1,materials:[{name:"Water",quantity:100,price:50},{name:"Tea Leaves",quantity:50,price:30},{name:"Sugar",quantity:25,price:20}],quantity:20,price:0,mcu:0}];j.forEach(function(e){var t=0,a={};e.materials.forEach(function(n){var c=n.quantity*n.price;t+=c;var r=n.price*n.quantity/e.quantity;a[n.name]=r}),e.price=t,e.mcu=a});a(41);var g=function(e){var t=e.products,a=Object(n.useState)(t),r=Object(m.a)(a,2),l=(r[0],r[1]),u=Object(n.useState)(null),o=Object(m.a)(u,2),s=o[0],p=o[1],f=Object(n.useState)(0),b=Object(m.a)(f,2),E=b[0],v=b[1],N=Object(n.useState)(1),y=Object(m.a)(N,2),O=y[0],j=y[1],g=function(){return s?s.price-E:0};return c.a.createElement("div",{className:"market"},c.a.createElement("div",{className:"product-select"},c.a.createElement("label",{htmlFor:"product-select"},"Select a product:"),c.a.createElement("select",{id:"product-select",onChange:function(e){var a=e.target.value,n=t.find(function(e){return e.name===a});p(n)}},c.a.createElement("option",{value:""},"Select a product"),t.map(function(e){return c.a.createElement("option",{key:e.id,value:e.name},e.name)}))),s&&c.a.createElement("div",{className:"product-details"},c.a.createElement("div",{className:"product-info"},c.a.createElement("h2",null,s.name),c.a.createElement("p",null,"Available Quantity: ",s.quantity)),c.a.createElement("div",{className:"sell-details"},c.a.createElement("div",{className:"sell-price"},c.a.createElement("label",{htmlFor:"sell-price"},"Sell Price:"),c.a.createElement("input",{id:"sell-price",type:"number",value:E,onChange:function(e){var t=Number(e.target.value);v(t)}})),c.a.createElement("div",{className:"quantity-to-sell"},c.a.createElement("label",{htmlFor:"quantity-to-sell"},"Quantity:"),c.a.createElement("input",{id:"quantity-to-sell",type:"number",min:"1",max:s.quantity,value:O,onChange:function(e){var t=Number(e.target.value);t>s.quantity?j(s.quantity):j(t)}}))),c.a.createElement("button",{className:"sell-button",onClick:function(){if(s){var e=Object(d.a)({},s,{price:g(),quantity:s.quantity-O}),a=t.findIndex(function(e){return e.id===s.id}),n=[].concat(Object(i.a)(t.slice(0,a)),[e],Object(i.a)(t.slice(a+1)));l(n),p(null),v(0),j(1)}}},"Sell"),c.a.createElement("p",{className:"product-price"},"Product price: ",g()," p&p")))};a(43);var h=function(){var e=Object(n.useState)(function(){var e=localStorage.getItem("materials");return e?JSON.parse(e):O}),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(function(){var e=localStorage.getItem("products");return e?JSON.parse(e):j}),u=Object(m.a)(l,2),s=u[0],d=u[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),h=b[0],q=(b[1],Object(n.useState)(!1)),S=Object(m.a)(q,2),C=S[0],k=(S[1],Object(n.useState)(!1)),F=Object(m.a)(k,2),Q=F[0],U=(F[1],Object(n.useState)(!1)),w=Object(m.a)(U,2),A=w[0],P=(w[1],Object(n.useState)(!1)),x=Object(m.a)(P,2),D=x[0],M=x[1],I=Object(n.useState)(!1),J=Object(m.a)(I,2),T=J[0],L=(J[1],function(e,t){var a=s.map(function(a){return a===e?t:a});d(a)});return Object(N.m)(),c.a.createElement("div",{className:"app-container"},c.a.createElement("div",{className:"date-time"},c.a.createElement("iframe",{src:"https://www.now-time.com/widgetclock/justnumber.php?id=9491&size=33&color=1833AB&format=2&thedatein=5&backcolor=F2F2F2",frameBorder:"0"})),c.a.createElement(v,{materials:a,products:s}),c.a.createElement("div",{className:"menu-icon",onClick:function(){M(!D)}},c.a.createElement("i",{className:"fas ".concat(D?"fa-times opening":"fa-bars")}),c.a.createElement("div",{className:"sidebar ".concat(D?"show":"")},c.a.createElement("div",{className:"menu-items"},c.a.createElement(y.b,{to:"/",className:"menu-item ".concat(A?"active":"")},c.a.createElement("i",{className:"fas fa-house"}),c.a.createElement("span",null,"Home")),c.a.createElement(y.b,{to:"/materials",className:"menu-item ".concat(h?"active":"")},c.a.createElement("i",{className:"fas fa-box-open"}),c.a.createElement("span",null,"Materials")),c.a.createElement(y.b,{to:"/products",className:"menu-item ".concat(C?"active":"")},c.a.createElement("i",{className:"fas fa-box"}),c.a.createElement("span",null,"Products")),c.a.createElement(y.b,{to:"/sell",className:"menu-item ".concat(Q?"active":"")},c.a.createElement("i",{className:"fa-solid fa-basket-shopping"}),c.a.createElement("span",null,"Market")),c.a.createElement(y.b,{to:"calculate",className:"menu-item ".concat(T?"active":"")},c.a.createElement("i",{className:"fa-solid fa-calculator"}),c.a.createElement("span",null,"Calculate"))))),c.a.createElement(N.c,null,c.a.createElement(N.a,{path:"materials",element:c.a.createElement(o,{materials:a,onDelete:function(e){r(a.filter(function(t){return t!==e}))},onUpdate:function(e){r(e)},onAdd:function(e){r([].concat(Object(i.a)(a),[e]))}})}),c.a.createElement(N.a,{path:"products",element:c.a.createElement(E,{products:s,onDelete:function(e){d(s.filter(function(t){return t!==e}))},onUpdate:L,onAdd:function(e){d([].concat(Object(i.a)(s),[e]))},materials:a})}),c.a.createElement(N.a,{path:"sell",element:c.a.createElement(g,{products:s,onUpdate:L,materials:a})}),c.a.createElement(N.a,{path:"calculate",element:c.a.createElement(f,{products:s})})))},q=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,51)).then(function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)})};a(45),a(47);l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y.a,null,c.a.createElement(h,null)))),q()}},[[23,3,2]]]);
//# sourceMappingURL=main.90c886a1.chunk.js.map